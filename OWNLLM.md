# OwnLLM - Custom AnythingLLM Fork

## What is AnythingLLM?

[AnythingLLM](https://anythingllm.com) is an open-source, full-stack AI application by Mintplex Labs that lets you:
- Chat with documents using any LLM (OpenAI, Claude, Ollama, etc.)
- Create isolated **workspaces** for different projects/clients
- Manage **threads** within workspaces for organized conversations
- Use AI agents with custom tools and web browsing
- Embed chat widgets on websites
- Support multi-user environments with permissions

**Architecture:**
- `frontend/` - Vite + React UI
- `server/` - Node.js Express API
- `collector/` - Document processing service
- SQLite database with Prisma ORM

---

## Your Custom Features (OwnLLM)

You've transformed AnythingLLM into a **proposal generation and business document platform**. Here's what you've added:

### ğŸ—’ï¸ Thread Notes (Rich Editor)
**What it does:** Each thread now has a full **BlockNote editor** for rich notes alongside the chat.

**Key files:**
- [ThreadNotes/index.jsx](file:///root/ownllm/frontend/src/components/WorkspaceChat/ThreadNotes/index.jsx) - Main notes component
- [BlockEditor.jsx](file:///root/ownllm/frontend/src/components/WorkspaceChat/ThreadNotes/BlockEditor.jsx) - BlockNote editor wrapper

**Features:**
- Rich text editing with headings, lists, tables, code blocks
- Auto-save to database
- AI can insert content directly into notes
- Dark theme styling

---

### ğŸ“„ PDF Export with Branding
**What it does:** Export notes to professionally branded PDFs.

**Database:** `pdf_templates` table stores:
- Logo, colors, fonts
- Header/footer text
- Custom CSS overrides

**Key files:**
- [ExportPdfModal.jsx](file:///root/ownllm/frontend/src/components/WorkspaceChat/ThreadNotes/ExportPdfModal.jsx)

---

### ğŸ“¦ Products Manager (NEW)
**What it does:** Define products/services per workspace for AI-generated proposals.

**Database:** `workspaces.products` (JSON field)

**Key files:**
- [ProductsManager/index.jsx](file:///root/ownllm/frontend/src/components/Modals/ManageWorkspace/ProductsManager/index.jsx)

**Product fields:**
- Name, Category, Price, Pricing Type
- Description, Features/Deliverables

---

### ğŸ’° Rate Card Manager (NEW)
**What it does:** Define roles with hourly rates for time & materials proposals.

**Database:** `workspaces.rateCard` (JSON field)

**Key files:**
- [RateCardManager/index.jsx](file:///root/ownllm/frontend/src/components/Modals/ManageWorkspace/RateCardManager/index.jsx)

**Rate card fields:**
- Role name, Hourly rate, Category

---

### ğŸ§© Smart Plugins
**What it does:** Per-workspace plugins with custom schemas.

**Database:** `smart_plugins` table

---

### ğŸ“ Artifacts Storage
**What it does:** Store code artifacts generated by AI.

**Database:** `artifacts` table with name, code, language

---

## Database Migrations (Custom)

| Migration | Purpose |
|-----------|---------|
| `20251211100317_add_thread_notes` | Added `notes` field to threads |
| `20251211122132_init_artifacts` | Artifacts table for code storage |
| `20251211181413_add_pdf_templates` | PDF branding templates |
| `20251211210436_add_brand_manager_fields` | Extended branding options |
| `20251211222000_add_smart_plugins` | Plugin system |
| `20251211224500_smart_plugins_unique_per_workspace` | Plugin uniqueness constraint |

---

## The Vision: AI Proposal Generator

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WORKSPACE SETTINGS                                         â”‚
â”‚  â”œâ”€â”€ Products (packages & fixed prices)                     â”‚
â”‚  â”œâ”€â”€ Rate Card (roles & hourly rates)                       â”‚
â”‚  â””â”€â”€ Branding (logo, colors, templates)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CHAT: "Create a proposal for Ahmad Co.                     â”‚
â”‚         They need HubSpot setup + email production"         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ AI uses products + rate card
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NOTES EDITOR                                               â”‚
â”‚  â”œâ”€â”€ AI-generated proposal with real pricing                â”‚
â”‚  â”œâ”€â”€ Interactive pricing tables (COMING SOON)               â”‚
â”‚  â”œâ”€â”€ Edit prices, add discounts, auto-recalculate           â”‚
â”‚  â””â”€â”€ Export to branded PDF                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Next Steps

1. **Interactive Pricing Tables** - Custom BlockNote blocks with live calculations
2. **AI Integration** - Inject products/rate card into system prompt
3. **PDF Export Enhancement** - Render pricing tables beautifully
